<div class="row justify-content-center"><div class="col-12 col-md-6 col-lg-5">
<h1 class="margined-horizon"><fa-icon [icon]="faUserLock"></fa-icon> Reset your password</h1>
<form novalidate #password_reset_form="ngForm" [id]="'password_reset_form'" *ngIf="!saved">
<!--<div class="col col-12 col-md-6  mt-5 mt-md-0 mb-3 mb-md-0">-->
    <div class="mt-5">
        Please enter your new password:
    </div>
    <div class="input-group mt-5">
        <div class="form-floating">
            <input type="password" 
                id="user_new_pass" class="form-control" placeholder="0" [(ngModel)]="password_change.new_password" name="user_new_pass" #user_new_pass="ngModel" (change)="checkPasswords()">
            <label for="user_new_pass">New password</label>
        </div>
    </div>
    <div class="text-danger" *ngIf="password_change_errors.new_password" > 
        {{ password_change_errors.new_password }}
    </div>

    <div class="input-group mt-5">
        <div class="form-floating">
            <input type="password" 
                id="user_new_pass2" class="form-control" placeholder="0" [(ngModel)]="password_change.repeat_new_password" name="user_new_pass2" #user_new_pass2="ngModel" (change)="checkPasswords()">
            <label for="user_new_pass2">Repeat new password</label>
        </div>
    </div>                                
    <div class="text-danger" *ngIf="password_change_errors.repeat_new_password" > 
        {{ password_change_errors.repeat_new_password }}
    </div>

<div class="mt-5 text-danger d-flex flex-row align-items-center" style="font-size: 18px">
    <fa-icon [icon]="faWarning" class="text-warning"></fa-icon>
    <div class="ms-3">After your password is reset, you will be logged out of all devices, and asked to login again.</div>
</div>
<div class="mt-5 d-flex justify-content-center">
    <button class="btn btn-warning save-button" (click)="save()" [disabled]="saving">
        <span *ngIf="!saving">
            <fa-icon [icon]="faSave" ></fa-icon>
            <span style="margin-left: 10px;">Update my password</span>
        </span>
        <fa-icon [icon]="faArrowsRotate" [animation]="'spin'" class="action-icon" *ngIf="saving"></fa-icon>
    </button>
</div>
</form>
<div *ngIf="saved" class="mt-5">
    <p>Your password was changed successfully.</p>
    <p>You may now sign in back to the system.</p>
    <p><a href="/users/signin">Click here to sign in</a></p>
</div>
</div>
<!--</div>-->
</div>