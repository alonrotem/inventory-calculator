<app-modal-dialog #baby_editor>
    <app-baby-editor-dialog #modalContent></app-baby-editor-dialog>
  </app-modal-dialog>
  
  <app-modal-dialog #delete_confirmation>
    <app-confirmation-dialog #modalContent></app-confirmation-dialog>
  </app-modal-dialog>

<div style="margin: 50px 0px;">
<h5 style="display: inline-block; margin-right: 10px;"><span class="hover-warning" role="button" routerLink="/inventory/raw/editor" [queryParams]="{ id: bank.raw_material_id}"><span class="icon-leaf" style="margin-right: 10px;"></span>{{ banks | filter: "bank_id" : this.bank_id | first: "raw_material_name" }}</span></h5><span>{{ bank_info }}</span>
<div></div>

<div><a id="btnNewRaw" class="btn btn-primary" (click)="openBabyDialog()">+ New baby</a></div>
<div class="table-responsive" [hidden]="(babies | filter: 'customer_bank_id': bank_id).length == 0">
        <table class="table table-striped table-hover">
            <thead>
              <tr>
                <th scope="col">Length</th>
                <th scope="col" class="text-center">Quantity</th>
                <th scope="col">Last update</th>
                <th scope="col">Last update by</th>
                <th scope="col" class="text-center">Remove</th>
              </tr>
            </thead>
            <tbody>
            @for (baby of (babies | filter: "customer_bank_id" : this.bank_id ); track baby) {
              <tr role="button">
                <td (click)="openBabyDialog(baby)">{{ baby.length | number : '1.1-1' }} cm</td>
                <td  (click)="openBabyDialog(baby)"class="text-center">{{ baby.quantity }}</td>
                <td (click)="openBabyDialog(baby)">{{ baby.updated_at | dateStr }}</td>
                <td (click)="openBabyDialog(baby)">{{ baby.updated_by }}</td>
                <td class="text-center" (click)="deleteBaby(baby)"><fa-icon class="text-danger" [icon]="faTrashCan"></fa-icon></td>
              </tr>
            }
            </tbody>
          </table>
        </div>

        <div [hidden]="(babies | filter: 'customer_bank_id': bank_id).length > 0" style="height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; flex-grow: 1; text-align: center;margin: 50px 0;">
          No babies created for this customer bank.<br/>
          Please add some by clicking the + button above.
        </div>
    </div>